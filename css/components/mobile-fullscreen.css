/* Mobile Fullscreen Support */

/* Dynamic viewport height for mobile browsers */
:root {
    --vh: 1vh; /* Fallback */
}

/* Mobile-specific adjustments */
@media screen and (max-width: 768px) {
    html, body {
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch;
    }
    
    body {
        /* Use dynamic viewport height on mobile */
        min-height: 100vh;
        min-height: calc(var(--vh, 1vh) * 100);
    }
    
    /* Prevent zoom on input focus */
    input, textarea, select {
        font-size: 16px !important;
        transform-origin: left top;
    }
    
    /* Hide scrollbars but keep functionality */
    .loading, .main-content {
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none; /* Firefox */
        -ms-overflow-style: none; /* IE/Edge */
    }
    
    .loading::-webkit-scrollbar, 
    .main-content::-webkit-scrollbar {
        display: none; /* Chrome/Safari */
    }
}

/* Fullscreen mode styles */
html:fullscreen, html:-webkit-full-screen, html:-moz-full-screen {
    background: #000;
}

html:fullscreen body, 
html:-webkit-full-screen body, 
html:-moz-full-screen body {
    height: 100vh;
    width: 100vw;
    margin: 0;
    padding: 0;
}

/* PWA viewport handling */
@supports (height: 100dvh) {
    @media screen and (max-width: 768px) {
        body {
            min-height: 100dvh; /* Dynamic viewport height */
        }
    }
}

/* Safe area handling for devices with notches */
@supports (padding: max(0px)) {
    @media screen and (max-width: 768px) {
        body {
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }
        
        .main-header {
            padding-top: env(safe-area-inset-top);
        }
        
        .loading-content {
            padding-bottom: env(safe-area-inset-bottom);
        }
    }
}

/* iOS Safari specific fixes */
@supports (-webkit-touch-callout: none) {
    @media screen and (max-width: 768px) {
        body {
            /* Fix for iOS Safari address bar */
            min-height: -webkit-fill-available;
        }
        
        .loading {
            height: -webkit-fill-available;
        }
    }
}
